<html>
  <head>
      <title>Light</title>
      <meta name="author" content="Darin Nikolow">
      <style>
       body { margin: 0; }
       canvas { display: block; }
      </style>
  </head>
  <body onclick="changeText(this)"></bodyonclick>
    <script src="../three.js"></script>
    <script>
     var scene = new THREE.Scene();
     var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );
     
     renderer = new THREE.WebGLRenderer();
     renderer.setSize( window.innerWidth, window.innerHeight );
     renderer.shadowMap.enabled = true;
     document.body.appendChild( renderer.domElement );
     
     var geometry = new THREE.BoxGeometry();
     var material = new THREE.MeshLambertMaterial( { color: 0x00ff00 } );
     var cube = new THREE.Mesh( geometry, material );
     scene.add( cube );
     cube.castShadow = true;
     
     var directionalLight = new THREE.DirectionalLight( 0xffffff, 1.0 );
     scene.add( directionalLight );
     directionalLight.castShadow = true;
     directionalLight.position.x = 1;
     directionalLight.position.z = 1;

     document.body.addEventListener("keydown", keyDown);

     const geometry2 = new THREE.SphereGeometry( 0.66, 11, 11 );
     const material2 = new THREE.MeshBasicMaterial( {color: 0xffff00} );
    const geometry3 = new THREE.ConeGeometry( 0.5, 7, 10 );
    const material3 = new THREE.MeshBasicMaterial( { color: 0xffff00 } );
    const geometry4 = new THREE.CylinderGeometry( 0.5, 0.5, 2, 3.2 );

    const geo = [new THREE.CylinderGeometry( 0.5, 0.5, 2, 3.2 ),
                new THREE.ConeGeometry( 0.5, 7, 10 ),
                new THREE.SphereGeometry( 0.66, 11, 11 ),
                new THREE.BoxGeometry()];
  



     camera.position.z = 8;

     function changeText(id) {
       const random = Math.trunc(Math.random() * 3 )+1;
       console.log(random)

       color = new THREE.Color( 0xffffff );
       color.setHex( Math.random() * 0xffffff );


      var mesh = new THREE.Mesh(geo[random], new THREE.MeshBasicMaterial( {color: color} ));
      mesh.position.x =  Math.trunc(Math.random() * -12 )  + 6;
      mesh.position.y =  (Math.random() * 1) * 4;
      mesh.position.z =  (Math.random() * 1 ) * 3;
      scene.add(mesh);
 

      console.log("rnd" + random);
      
      
     
      }

    
     var floorGeometry = new THREE.PlaneGeometry(12, 12);
     var floorMaterial = new THREE.MeshLambertMaterial( { color: 0x00ffff } );
     var floor = new THREE.Mesh( floorGeometry, floorMaterial );
     scene.add(floor);
     floor.rotation.x = -Math.PI/2.0;
     floor.position.y = -1.0;
     floor.receiveShadow = true;

      var anim = false;

     var animate = function () {
      if(anim)
        requestAnimationFrame( animate );	 
      cube.rotation.x += 0.01;
       cube.rotation.y += 0.01;
      renderer.render( scene, camera );
     };

     function keyDown(e) {
        switch (e.key) {
          case "ArrowUp":
            cube.rotateX(-0.1);
            break;
          case "ArrowDown":
            cube.rotateX(0.1);
            break;
          case "ArrowLeft":
            cube.rotateY(-0.1);
            break;
          case "ArrowRight":
            cube.rotateY(0.1);
            break;
        }
        e.preventDefault();
      }
     

     document.body.onkeydown = function(e)
      {
        if(e.keyCode==32)
        {
          anim = !anim;  
       if(anim)
        animate();
        }

      };

      animate();

    </script>
  </body>
</html>
